â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    JARVIS TEMPLATE SYSTEM                          â•‘
â•‘                        Quick Reference                             â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š CURRENT TEMPLATES: 144 total

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CATEGORY BREAKDOWN                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Professional/Email           10 templates                          â”‚
â”‚ Quick iMessage Responses     18 templates                          â”‚
â”‚ Conversation Closers          6 templates                          â”‚
â”‚ Conversational                3 templates                          â”‚
â”‚ Assistant Queries            25 templates                          â”‚
â”‚ Group Chat                   82 templates                          â”‚
â”‚   â”œâ”€ Event Planning           4 templates                          â”‚
â”‚   â”œâ”€ RSVP Coordination        5 templates                          â”‚
â”‚   â”œâ”€ Poll Responses           4 templates                          â”‚
â”‚   â”œâ”€ Group Logistics          5 templates                          â”‚
â”‚   â”œâ”€ Celebratory Messages     5 templates                          â”‚
â”‚   â”œâ”€ Information Sharing      4 templates                          â”‚
â”‚   â””â”€ Size-Specific           3 templates (constraints on group size)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ”§ HOW TO RUN COVERAGE BENCHMARK

  # Analyze template characteristics (no data needed)
  python -m benchmarks.templates.run --mode analysis

  # Test on synthetic queries (handcrafted test cases)
  python -m benchmarks.templates.run --mode synthetic

  # Test on real iMessage data (requires Full Disk Access)
  python -m benchmarks.templates.run --mode real --sample-size 5000

  # Run all evaluations
  python -m benchmarks.templates.run --output results/template_coverage.json

ğŸ“ˆ EXPECTED METRICS

  Hit Rate Targets:
    â”œâ”€ Quick responses (ok, thanks, lol):     80-90%
    â”œâ”€ Group coordination:                     60-70%
    â”œâ”€ General chat:                           40-50%
    â”œâ”€ Reply with context:                     30-40%
    â””â”€ Search/Summarize:                        5-10%

  Overall Target: 50-60% hit rate for casual iMessage use

ğŸ¯ KEY CONCEPTS

  Template Matching Process:
    1. User query arrives
    2. Encode query using sentence transformer (all-MiniLM-L6-v2)
    3. Compute cosine similarity with all template patterns
    4. If best match >= 0.7 threshold: return template response
    5. If < 0.7: fall through to MLX model generation

  Performance:
    â”œâ”€ Template match: 10-50ms
    â”œâ”€ MLX generation: 2-5 seconds
    â””â”€ Memory: 80MB (templates) vs 2-4GB (MLX)

  Quality Control:
    â”œâ”€ Track hit/miss rates
    â”œâ”€ Monitor "near misses" (0.6-0.69 similarity)
    â”œâ”€ Identify unused templates
    â””â”€ Find high-frequency misses for new template candidates

ğŸ“ KEY FILES

  models/templates.py          - TemplateMatcher class, all templates
  jarvis/metrics.py            - TemplateAnalytics for tracking
  benchmarks/templates/run.py  - Coverage benchmark script
  docs/TEMPLATE_WORKFLOW.md    - Full technical documentation

ğŸš€ OVERNIGHT EXPERIMENTS

  To add to overnight_eval.sh:
    1. Template coverage benchmark (real data)
    2. Intent classification accuracy
    3. Multi-model comparison (0.5B/1.5B/3B)
    4. Context window experiments
    5. Long-running stability test

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
