# JARVIS Code Ownership
# 
# This file defines code owners for automatic review assignment.
# See CODE_REVIEW_POLICY.md for full review process documentation.
#
# Lines starting with # are comments.
# Order matters: the last matching pattern has the highest precedence.

# ============================================================================
# Global fallback
# ============================================================================
* @backend-lead

# ============================================================================
# Core Infrastructure
# ============================================================================
# Configuration and error handling - critical to all operations
jarvis/config.py @backend-lead @devops
jarvis/errors.py @backend-lead

# Database layer - critical for data integrity
jarvis/db/ @data-lead @backend-lead

# Contracts - API boundaries and serialization
jarvis/contracts/ @architect @backend-lead

# Utilities and shared helpers
jarvis/utils/ @backend-lead

# Core system components
jarvis/socket_server.py @backend-lead @desktop-lead
jarvis/watcher.py @backend-lead @desktop-lead

# ============================================================================
# ML & Models
# ============================================================================
# Model implementations and ML infrastructure
models/ @ml-lead @backend-lead

# Feature engineering
jarvis/features/ @ml-lead @data-lead

# Classifiers and ML logic
jarvis/classifiers/ @ml-lead @backend-lead

# ML-specific utilities
jarvis/dspy_client.py @ml-lead @backend-lead
jarvis/embedding_adapter.py @data-lead @ml-lead

# ============================================================================
# Data Pipeline
# ============================================================================
# Contact and profile management
jarvis/contacts/ @data-lead @ml-lead

# Knowledge graph
jarvis/graph/ @data-lead @ml-lead

# Search and retrieval
jarvis/search/ @data-lead @backend-lead

# Topics and segmentation
jarvis/topics/ @data-lead @ml-lead

# ============================================================================
# API & Integration
# ============================================================================
# FastAPI routers and schemas
api/ @backend-lead @frontend-lead

# Scheduler and prefetch systems
jarvis/scheduler/ @backend-lead
jarvis/prefetch/ @backend-lead

# Services layer
jarvis/services/ @backend-lead

# API models and contracts
jarvis/api_models.py @backend-lead @frontend-lead
jarvis/router.py @backend-lead @frontend-lead

# ============================================================================
# Response Generation
# ============================================================================
# Core generation logic
jarvis/generation.py @ml-lead @backend-lead
jarvis/prompts/ @ml-lead @backend-lead
jarvis/reply_service.py @ml-lead @backend-lead

# Model templates and building
models/templates.py @ml-lead @backend-lead
models/prompt_builder.py @ml-lead @backend-lead

# ============================================================================
# NLP Components
# ============================================================================
jarvis/nlp/ @ml-lead @data-lead

# ============================================================================
# Desktop App
# ============================================================================
# Tauri Rust backend
desktop/src-tauri/ @desktop-lead @backend-lead

# Svelte frontend
desktop/src/ @frontend-lead @desktop-lead

# Desktop configuration
desktop/package.json @frontend-lead @desktop-lead
desktop/package-lock.json @frontend-lead @desktop-lead
desktop/svelte.config.js @frontend-lead @desktop-lead
desktop/vite.config.ts @frontend-lead @desktop-lead

# ============================================================================
# Testing & Quality
# ============================================================================
# Integration tests - cross-domain coverage
tests/integration/ @qa-lead @backend-lead

# Unit tests - domain-specific
tests/unit/classifiers/ @ml-lead @qa-lead
tests/unit/contacts/ @data-lead @qa-lead
tests/unit/db/ @data-lead @qa-lead
tests/unit/api/ @backend-lead @qa-lead

# Benchmarks and evaluation
benchmarks/ @ml-lead @qa-lead
evals/ @ml-lead @qa-lead @backend-lead

# ============================================================================
# Operations & Configuration
# ============================================================================
# Deployment and infrastructure
scripts/ @devops @ml-lead
deploy/ @devops @backend-lead

# GitHub configuration
.github/ @devops @backend-lead
.github/workflows/ @devops @backend-lead
.github/CODEOWNERS @backend-lead @devops
.github/CODE_REVIEW_POLICY.md @backend-lead @devops

# Build configuration
Makefile @devops @backend-lead
pyproject.toml @devops @backend-lead @ml-lead
tox.ini @devops @backend-lead
.pre-commit-config.yaml @devops @backend-lead

# Environment and secrets
.env.example @devops @security-lead
.gitignore @devops @backend-lead

# ============================================================================
# Documentation
# ============================================================================
docs/ @tech-writer @backend-lead
*.md @tech-writer @backend-lead

# Critical documentation - wider review
README.md @backend-lead @tech-writer @architect
AGENTS.md @backend-lead @tech-writer
QUALITY_GATES_POLICY.md @backend-lead @qa-lead @architect
CONTRIBUTING.md @backend-lead @tech-writer

# ============================================================================
# Project Management
# ============================================================================
WORKSTREAMS.md @backend-lead @architect
TECHNICAL_DEBT_REGISTER.md @backend-lead @architect
